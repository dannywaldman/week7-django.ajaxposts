<html>
    <head>
        <title>Ajax Posts</title>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    </head>
    <body>
    <form action='/posts/create' method='post' id='posts'>
        {% csrf_token %}
        Add Post: <input type='text' name='post'/>
        <input type='submit' value='Submit' />
    </form>
    <script>
      $('#posts').submit(function(e){
        e.preventDefault()
        console.log('Sending Ajax request to', $(this).attr('action'))
        console.log('Submitting the following data', $(this).serialize())
        $.ajax({
            url: $(this).attr('action'),
            method: 'post',
            data: $(this).serialize(),
            success: function(serverResponse){
                $('#notes').append('<div>' + serverResponse + '</div>')
            }
            });
      });
    </script>
        
        <div id="notes"></div>
    </body>
<html>
